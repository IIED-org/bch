{#
/**
 * @file
 * Theme override to display a block.
 *
 * Available variables:
 * - plugin_id: The ID of the block implementation.
 * - label: The configured label of the block if visible.
 * - configuration: A list of the block's configuration values.
 *   - label: The configured label for the block.
 *   - label_display: The display settings for the label.
 *   - provider: The module or other provider that provided this block plugin.
 *   - Block plugin specific settings will also be stored here.
 * - in_preview: Whether the plugin is being rendered in preview mode.
 * - content: The content of this block.
 * - attributes: array of HTML attributes populated by modules, intended to
 *   be added to the main container tag of this template.
 *   - id: A valid HTML ID and guaranteed unique.
 * - title_attributes: Same as attributes, except applied to the main title
 *   tag that appears in the template.
 * - title_prefix: Additional output populated by modules, intended to be
 *   displayed in front of the main title tag that appears in the template.
 * - title_suffix: Additional output populated by modules, intended to be
 *   displayed after the main title tag that appears in the template.
 *
 * @see template_preprocess_block()
 */
#}
{%
  set classes = [
    'block',
    'block-' ~ configuration.provider|clean_class,
    'block-' ~ plugin_id|clean_class,
    'rounded-3xl',
    'px-0',
    'mx-0',
    'mt-4',
    'sm:mx-2', 
    'md:mx-4',
    'mb-4',
  ]
%}


<div{{ attributes.addClass(classes) }}>

  <div x-data="{ activeTab: 'tab1', bgImage: 'url(\'/themes/custom/bch_tw/images/tab-1.jpg\')' }">
    <div class="relative overflow-hidden transition-all duration-200 ease-in-out rounded-3xl sm:px-4"
        x-bind:style="{ backgroundImage: bgImage, backgroundSize: 'cover', backgroundPosition: 'right bottom', backgroundRepeat: 'no-repeat', backgroundColor: '#F5F2EA' }">
        <div class="container relative z-10 px-4 py-12 mx-auto sm:px-0">
        
          <div class="flex flex-col">
            <div class="flex flex-wrap gap-2">
              <button
                class="flex-grow px-6 py-6 text-base font-bold transition-all duration-300 rounded-full shadow-sm cursor-pointer sm:flex-grow-0 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-yellow-400"
                :class="{
                  'bg-bc-yellow-500 text-gray-900 hover:bg-bc-yellow-500': activeTab === 'tab1',
                  'bg-white text-gray-600 hover:bg-bc-yellow-300': activeTab !== 'tab1'
                }"
                aria-controls="tab1-content"
                :aria-selected="activeTab === 'tab1'"
                role="tab"
                x-on:click="activeTab = 'tab1'; bgImage = 'url(\'/themes/custom/bch_tw/images/tab-1.jpg\')'; "
              >
                About biocultural heritage
              </button>
              <button
                class="flex-grow px-6 py-6 text-base font-bold transition-all duration-300 rounded-full shadow-sm cursor-pointer sm:flex-grow-0 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-yellow-400"
                :class="{
                  'bg-bc-yellow-500 text-gray-900 hover:bg-bc-yellow-500': activeTab === 'tab2',
                  'bg-white text-gray-600 hover:bg-bc-yellow-300': activeTab !== 'tab2'
                }"
                aria-controls="tab2-content"
                :aria-selected="activeTab === 'tab2'"
                role="tab"
                x-on:click="activeTab = 'tab2'; bgImage = 'url(\'/themes/custom/bch_tw/images/tab2.jpg\')'; "
              >
                Global goals and local resilience
              </button>
              <button
                class="flex-grow px-6 py-6 text-base font-bold transition-all duration-300 rounded-full shadow-sm cursor-pointer sm:flex-grow-0 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-yellow-400"
                :class="{
                  'bg-bc-yellow-500 text-gray-900 hover:bg-bc-yellow-500': activeTab === 'tab3',
                  'bg-white text-gray-600 hover:bg-bc-yellow-300': activeTab !== 'tab3'
                }"
                aria-controls="tab3-content"
                :aria-selected="activeTab === 'tab3'"
                role="tab"
                x-on:click="activeTab = 'tab3'; bgImage = 'url(\'/themes/custom/bch_tw/images/tab3.jpg\')'; "
              >
                Biocultural territories and rights
              </button>
            </div>
            <div class="mt-4">
              <div
                id="tab1-content"
                role="tabpanel"
                aria-labelledby="tab1"
                class="p-6 prose transition-opacity duration-300 bg-white shadow-sm rounded-3xl md:p-8 min-h-[550px]"
                x-show="activeTab === 'tab1'"
              >
                <div class="max-w-3xl">
                  <div class="px-4 bg-white">{{ content.field_tab_text_one }}</div>
                </div>
              </div>
              <div
                id="tab2-content"
                role="tabpanel"
                aria-labelledby="tab2"
                class="p-6 prose transition-opacity duration-300 bg-white shadow-sm rounded-3xl md:p-8 min-h-[550px]"
                x-show="activeTab === 'tab2'"
              >
                <div class="max-w-3xl">
                  <div class="px-4 bg-white">{{ content.field_tab_text_two }}</div>
                </div>
              </div>
              <div
                id="tab3-content"
                role="tabpanel"
                aria-labelledby="tab3"
                class="p-6 prose transition-opacity duration-300 bg-white shadow-sm rounded-3xl md:p-8 min-h-[550px]"
                x-show="activeTab === 'tab3'"
              >
                <div class="max-w-3xl">
                  <div class="px-4 bg-white">{{ content.field_tab_text_three}}</div>
                </div>
              </div>
            </div>
          </div>

        </div>

    </div>
  </div>


</div>
